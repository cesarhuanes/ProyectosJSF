<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich" xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets">
<a4j:keepAlive beanName="ventaSoatController" />
<head>
<script type="text/javascript" src="#{facesContext.externalContext.requestContextPath}/js/validacion.js" />
<style type="text/css">
.celda {
	width: 170px;
	color: #000;
}

.separador {
	padding: 0 27px 0 27px;
}
</style>

</head>
<body>
	<h:form>

		<rich:panel id="consultar" height="100%">
			<f:facet name="header">
				<h:outputText value="Recursos Humanos > SOAT Empleados" />
			</f:facet>
			<fieldset id="formVehiculo">
				<legend>Datos del Vehiculo</legend>
				<a4j:region ajaxSingle="true">
					<table>
						<tr>
							<td width="18%" align="right"><rich:message for="placa" style="color: red;">
									<f:facet name="errorMarker">
										<h:graphicImage url="../imagenes/error.png" />
									</f:facet>
								</rich:message> <rich:spacer width="5"></rich:spacer> <h:outputText value="Placa" /></td>
							<td style="width: 20%; text-align: left;"><h:inputText id="placa" value="#{ventaSoatController.ventaSoatEmpl.placa}" maxlength="6"
									class="celda" onkeyup="value=value.toUpperCase()" required="true" requiredMessage="Obligatorio" /></td>
							<td style="width: 25%; text-align: center;"><a4j:commandButton action="#{ventaSoatController.buscarPlaca}" onclick="this.disabled=true"
									oncomplete="this.disabled=false" reRender="marca,cModelo,serie,anioFabricacion,uso,categoria,nroAsientos,razonSocial" value="Buscar Placa"></a4j:commandButton>
							</td>

							<td width="20%" align="center"></td>
							<td width="5%" align="center"></td>
							<td width="15%" align="center"></td>
							<td width="2%" align="center"></td>
						</tr>
					</table>
				</a4j:region>
				<a4j:region ajaxSingle="true">
					<table>
						<tr>
							<td width="18%" align="right"><rich:message for="marca" style="color: red;">
									<f:facet name="errorMarker">
										<h:graphicImage url="../imagenes/error.png" />
									</f:facet>
								</rich:message> <rich:spacer width="5"></rich:spacer> <h:outputText value="Marca" /></td>
							<td style="width: 20%; text-align: left;"><h:selectOneMenu id="marca" value="#{ventaSoatController.codMarca}" style=" width : 173px;"
									valueChangeListener="#{ventaSoatController.buscarModelo}" required="true" requiredMessage="Obligatorio">
									<f:selectItems value="#{ventaSoatController.marcaItems}" />
									<a4j:support event="onchange" ajaxOnly="true" reRender="cModelo" />
								</h:selectOneMenu></td>
							<td width="22%" align="right"><rich:message for="cModelo" style="color: red;">
									<f:facet name="errorMarker">
										<h:graphicImage url="../imagenes/error.png" />
									</f:facet>
								</rich:message> <rich:spacer width="5"></rich:spacer> <h:outputText value="Modelo" /></td>
							<td style="width: 20%; text-align: left;"><h:selectOneMenu id="cModelo" value="#{ventaSoatController.codModelo}" style=" width : 173px;"
									required="true" requiredMessage="Obligatorio">
									<f:selectItems value="#{ventaSoatController.modeloItems}" />
								</h:selectOneMenu></td>
							<td width="5%" align="center"></td>
							<td width="15%" align="center"></td>
							<td width="2%" align="center"></td>
						</tr>
						<tr>
							<td width="18%" align="right"><rich:message for="serie" style="color: red;">
									<f:facet name="errorMarker">
										<h:graphicImage url="../imagenes/error.png" />
									</f:facet>
								</rich:message> <rich:spacer width="5"></rich:spacer> <h:outputText value="Serie" /></td>
							<td style="width: 20%; text-align: left;"><h:inputText id="serie" value="#{ventaSoatController.ventaSoatEmpl.serie}" maxlength="20"
									class="celda" onkeyup="value=value.toUpperCase()" required="true" requiredMessage="Obligatorio" /></td>
							<td width="22%" align="right"><rich:message for="anioFabricacion" style="color: red;">
									<f:facet name="errorMarker">
										<h:graphicImage url="../imagenes/error.png" />
									</f:facet>
								</rich:message> <rich:spacer width="5"></rich:spacer> <h:outputText value="Año Fabricacion" /></td>
							<td style="width: 20%; text-align: left;"><h:inputText id="anioFabricacion" value="#{ventaSoatController.ventaSoatEmpl.anioFabricacion}"
									maxlength="4" class="celda" onkeypress="return valNumeros(event);" required="true" requiredMessage="Obligatorio" /></td>
							<td width="5%" align="center"></td>
							<td width="15%" align="center"></td>
							<td width="2%" align="center"></td>
						</tr>
						<tr>
							<td width="18%" align="right"><rich:message for="uso" style="color: red;">
									<f:facet name="errorMarker">
										<h:graphicImage url="../imagenes/error.png" />
									</f:facet>
								</rich:message> <rich:spacer width="5"></rich:spacer> <h:outputText value="Uso" /></td>
							<td style="width: 20%; text-align: left;"><h:inputText id="uso" value="#{ventaSoatController.ventaSoatEmpl.uso}" maxlength="20"
									class="celda" onkeyup="value=value.toUpperCase()" required="true" requiredMessage="Obligatorio" /></td>
							<td width="22%" align="right"><rich:message for="categoria" style="color: red;">
									<f:facet name="errorMarker">
										<h:graphicImage url="../imagenes/error.png" />
									</f:facet>
								</rich:message> <rich:spacer width="5"></rich:spacer> <h:outputText value="Categoria" /></td>
							<td style="width: 20%; text-align: left;"><h:inputText id="categoria" value="#{ventaSoatController.ventaSoatEmpl.categoria}"
									maxlength="20" class="celda" onkeyup="value=value.toUpperCase()" required="true" requiredMessage="Obligatorio" /></td>
							<td width="15%" align="center"></td>
							<td width="5%" align="center"></td>
							<td width="2%" align="center"></td>
						</tr>
						<tr>
							<td width="18%" align="right"><rich:message for="nroAsientos" style="color: red;">
									<f:facet name="errorMarker">
										<h:graphicImage url="../imagenes/error.png" />
									</f:facet>
								</rich:message> <rich:spacer width="5"></rich:spacer> <h:outputText value="Nro. Asientos" /></td>
							<td style="width: 20%; text-align: left;"><h:inputText id="nroAsientos" value="#{ventaSoatController.ventaSoatEmpl.nroAsientos}"
									maxlength="3" onkeypress="return valNumeros(event);" class="celda" required="true" requiredMessage="Obligatorio" /></td>
							<td width="22%" align="right"><h:outputText value="Departamento" /></td>
							<td style="width: 20%; text-align: left;"><h:inputText id="departamento" readonly="true"
									value="#{ventaSoatController.ventaSoatEmpl.departamento}" maxlength="20" class="celda" /></td>
							<td width="5%" align="center"></td>
							<td width="15%" align="center"></td>
							<td width="2%" align="center"></td>
						</tr>
						<tr>
							<td width="18%" align="right"><rich:message for="prima" style="color: red;">
									<f:facet name="errorMarker">
										<h:graphicImage url="../imagenes/error.png" />
									</f:facet>
								</rich:message> <rich:spacer width="5"></rich:spacer> <h:outputText value="Precio" /></td>
							<td style="width: 20%; text-align: left;"><h:inputText id="precio" value="#{ventaSoatController.ventaSoatEmpl.prima}" maxlength="20"
									class="celda" readonly="true" /></td>

							<td width="15%" align="center"></td>
							<td width="2%" align="center"></td>


						</tr>
						<tr>
							<td colspan="2" height="10px"></td>

						</tr>
					</table>

					<table align="center">
						<tr>
							<td style="width: 22%; text-align: center;"><a4j:commandButton action="#{ventaSoatController.buscarPrecio}" reRender="precio"
									value="Buscar Precio" onclick="this.disabled=true" oncomplete="this.disabled=false"></a4j:commandButton></td>


						</tr>
					</table>


				</a4j:region>
			</fieldset>

			<fieldset id="formContratante">
				<legend>Datos del Contratante</legend>

				<table>
					<tr>
						<td width="18%" align="right"><rich:message for="tipDocumento" style="color: red;">
								<f:facet name="errorMarker">
									<h:graphicImage url="../imagenes/error.png" />
								</f:facet>
							</rich:message> <rich:spacer width="5"></rich:spacer> <h:outputText value="Tipo Documento" /></td>
						<td style="width: 20%; text-align: left;"><h:selectOneMenu id="tipDocumento" value="#{ventaSoatController.ventaSoatEmpl.tipDocumento}"
								style=" width : 173px;" required="true" requiredMessage="Obligatorio">
								<f:selectItems value="#{ventaSoatController.tipDocumentoItems}" />
							</h:selectOneMenu> <!-- <h:inputText id="tipDocumento" readonly="true"
								value="#{ventaSoatController.ventaSoatEmpl.tipDocumento}" class="celda"/>--></td>
						<td width="22%" align="right"><rich:message for="numDocumento" style="color: red;">
								<f:facet name="errorMarker">
									<h:graphicImage url="../imagenes/error.png" />
								</f:facet>
							</rich:message> <rich:spacer width="5"></rich:spacer> <h:outputText value="Nro. Documento" /></td>
						<td style="width: 20%; text-align: left;"><h:inputText id="numDocumento" value="#{ventaSoatController.ventaSoatEmpl.nroDocumento}"
								maxlength="11" class="celda" onkeyup="value=value.toUpperCase()" required="true" requiredMessage="Obligatorio" /></td>
						<td width="5%" align="center"></td>
						<td width="15%" align="center"></td>
						<td width="2%" align="center"></td>
					</tr>
					<tr>
						<td width="18%" align="right"><rich:message for="nombres" style="color: red;">
								<f:facet name="errorMarker">
									<h:graphicImage url="../imagenes/error.png" />
								</f:facet>
							</rich:message> <rich:spacer width="5"></rich:spacer> <h:outputText value="Nombres" /></td>
						<td style="width: 20%; text-align: left;"><h:inputText id="nombres" value="#{ventaSoatController.ventaSoatEmpl.nomContrat}" maxlength="50"
								class="celda" onkeyup="value=value.toUpperCase()" required="true" requiredMessage="Obligatorio" /></td>

						<td width="22%" align="right"><rich:message for="apPaterno" style="color: red;">
								<f:facet name="errorMarker">
									<h:graphicImage url="../imagenes/error.png" />
								</f:facet>
							</rich:message> <rich:spacer width="5"></rich:spacer> <h:outputText value="Apellido Paterno" /></td>
						<td style="width: 20%; text-align: left;"><h:inputText id="apPaterno" readonly="readonly"
								value="#{ventaSoatController.ventaSoatEmpl.apePatcontrat}" maxlength="50" onkeyup="value=value.toUpperCase()" class="celda" required="true"
								requiredMessage="Obligatorio" /></td>
						<td width="4%" align="center"></td>
						<td width="1%" align="center"></td>
						<td width="1%" align="center"></td>
					</tr>
					<tr>

						<td width="18%" align="right"><rich:message for="apMaterno" style="color: red;">
								<f:facet name="errorMarker">
									<h:graphicImage url="../imagenes/error.png" />
								</f:facet>
							</rich:message> <rich:spacer width="5"></rich:spacer> <h:outputText value="Apellido Materno" /></td>
						<td style="width: 20%; text-align: left;"><h:inputText id="apMaterno" value="#{ventaSoatController.ventaSoatEmpl.apeMatcontrat}"
								maxlength="50" class="celda" onkeyup="value=value.toUpperCase()" required="true" requiredMessage="Obligatorio" /></td>
						<td width="22%" align="right"><rich:message for="fechaNac" style="color: red;">
								<f:facet name="errorMarker">
									<h:graphicImage url="../imagenes/error.png" />
								</f:facet>
							</rich:message> <rich:spacer width="5"></rich:spacer> <h:outputText value="Fecha de Nacimiento(dd/MM/yyyy)" /></td>
						<td style="text-align: left;"><rich:calendar id="fechaNac" enableManualInput="true" datePattern="dd/MM/yyyy"
								value="#{ventaSoatController.ventaSoatEmpl.fecNacimiento}" showWeeksBar="false" required="true" requiredMessage="Obligatorio">
							</rich:calendar></td>
						<td width="5%" align="center"></td>
						<td width="15%" align="center"></td>
						<td width="2%" align="center"></td>
					</tr>
					<tr>
						<td width="18%" align="right"><rich:message for="selectDepart" style="color: red;">
								<f:facet name="errorMarker">
									<h:graphicImage url="../imagenes/error.png" />
								</f:facet>
							</rich:message> <rich:spacer width="5"></rich:spacer> <h:outputText value="Departamento" /></td>
						<td style="width: 20%; text-align: left;"><h:selectOneMenu id="selectDepartamento" value="#{ventaSoatController.ventaSoatEmpl.depContrat}"
								style="width:173px;" valueChangeListener="#{ventaSoatController.buscarProvincia}" required="true" requiredMessage="Obligatorio">
								<f:selectItems value="#{ventaSoatController.departamentoItems}" />
								<a4j:support event="onchange" ajaxOnly="true" reRender="selectProvincia" />
							</h:selectOneMenu> <!-- 
								<h:selectOneMenu id="selectDepartamento" value="#{ventaSoatController.ventaSoatEmpl.depContrat}" style="width:173px;" 
							valueChangeListener="#{ventaSoatController.buscarProvincia}" 
							required="true" requiredMessage="Obligatorio">
								<f:selectItems value="#{ventaSoatController.departamentoItems}"/>
	                             <a4j:support event="onchange" ajaxOnly="true" reRender="selectProvincia"/>     
	                		</h:selectOneMenu>
								
								
								
								
								
								 h:selectOneMenu id="selectDepart"
									value="#{ventaSoatController.ventaSoatEmpl.depContrat}" style=" width : 173px;"
									valueChangeListener="#{ventaSoatController.buscarProvincia}"
									required="true" requiredMessage="Obligatorio">
									<f:selectItems value="#{ventaSoatController.departamentoItems}"/>
									<a4j:support event="onchange" ajaxOnly="true" reRender="selectProvincia"/> 
								</h:selectOneMenu>--></td>
						<td width="22%" align="right"><rich:message for="selectProvincia" style="color: red;">
								<f:facet name="errorMarker">
									<h:graphicImage url="../imagenes/error.png" />
								</f:facet>
							</rich:message> <rich:spacer width="5"></rich:spacer> <h:outputText value="Provincia" /></td>
						<td style="width: 20%; text-align: left;"><h:selectOneMenu id="selectProvincia" value="#{ventaSoatController.ventaSoatEmpl.provContrat}"
								style="width:173px;" valueChangeListener="#{ventaSoatController.buscarDistrito}" required="true" requiredMessage="Obligatorio">
								<f:selectItems value="#{ventaSoatController.provinciaItems}" />
								<a4j:support event="onchange" ajaxOnly="true" reRender="selectDistrito" />
							</h:selectOneMenu></td>
						<td width="5%" align="center"></td>
						<td width="15%" align="center"></td>
						<td width="2%" align="center"></td>
					</tr>
					<tr>
						<td width="18%" align="right"><rich:message for="selectDistrito" style="color: red;">
								<f:facet name="errorMarker">
									<h:graphicImage url="../imagenes/error.png" />
								</f:facet>
							</rich:message> <rich:spacer width="5"></rich:spacer> <h:outputText value="Distrito" /></td>
						<td style="width: 20%; text-align: left;"><h:selectOneMenu id="selectDistrito" value="#{ventaSoatController.ventaSoatEmpl.distContrat}"
								style=" width : 173px;" required="true" requiredMessage="Obligatorio">
								<f:selectItems value="#{ventaSoatController.distritoItems}" />
							</h:selectOneMenu></td>

						<td width="22%" align="right"><rich:message for="direccion" style="color: red;">
								<f:facet name="errorMarker">
									<h:graphicImage url="../imagenes/error.png" />
								</f:facet>
							</rich:message> <rich:spacer width="5"></rich:spacer> <h:outputText value="Direccion" /></td>
						<td style="width: 20%; text-align: left;"><h:inputText id="direccion" value="#{ventaSoatController.ventaSoatEmpl.direccion}"
								maxlength="200" onkeyup="value=value.toUpperCase()" class="celda" required="true" requiredMessage="Obligatorio" /></td>
						<td width="5%" align="center"></td>
						<td width="15%" align="center"></td>
						<td width="2%" align="center"></td>
					</tr>
					<tr>
						<td width="18%" align="right"><rich:message for="fechaInicio" style="color: red;">
								<f:facet name="errorMarker">
									<h:graphicImage url="../imagenes/error.png" />
								</f:facet>
							</rich:message> <rich:spacer width="5"></rich:spacer> <h:outputText value="Fecha Inicio Vigencia(dd/MM/yyyy)" /></td>
						<td style="text-align: left;"><rich:calendar id="fechaInicio" enableManualInput="true" datePattern="dd/MM/yyyy"
								value="#{ventaSoatController.ventaSoatEmpl.fecIniVig}" showWeeksBar="false" required="true" requiredMessage="Obligatorio">
							</rich:calendar></td>

						<td width="22%" align="right"><rich:message for="telefono" style="color: red;">
								<f:facet name="errorMarker">
									<h:graphicImage url="../imagenes/error.png" />
								</f:facet>
							</rich:message> <h:outputText value="Telefono" /></td>
						<td style="width: 20%; text-align: left;"><h:inputText id="telefono" value="#{ventaSoatController.ventaSoatEmpl.telefono}"
								onkeypress="return valNumeros(event);" maxlength="10" class="celda" required="true" requiredMessage="Obligatorio" /></td>
						<td width="5%" align="center"></td>
						<td width="15%" align="center"></td>
						<td width="2%" align="center"></td>
					</tr>
					<tr>
						<td colspan="2" height="10px"></td>

					</tr>
				</table>

			</fieldset>
			<fieldset id="formEmpleado">
				<legend>Datos del Empleado</legend>

				<table>
					<tr>
						<td width="18%" align="right"><rich:message for="tipDocumentoempl" style="color: red;">
								<f:facet name="errorMarker">
									<h:graphicImage url="../imagenes/error.png" />
								</f:facet>
							</rich:message> <h:outputText value="Tipo Documento" /></td>
						<td style="text-align: left;"><h:selectOneMenu id="tipDocumentoempl" value="#{ventaSoatController.ventaSoatEmpl.tipDocumentoempl}"
								style=" width : 173px;" required="true" requiredMessage="Obligatorio">
								<f:selectItems value="#{ventaSoatController.tipDocumentoItems}" />
							</h:selectOneMenu></td>
						<td width="22%" align="right"><rich:message for="nroDocumentoempl" style="color: red;">
								<f:facet name="errorMarker">
									<h:graphicImage url="../imagenes/error.png" />
								</f:facet>
							</rich:message> <h:outputText value="Nro. Documento" /></td>
						<td style="width: 20%; text-align: left;"><h:inputText id="nroDocumentoempl" value="#{ventaSoatController.ventaSoatEmpl.nroDocumentoempl}"
								maxlength="11" class="celda" required="true" requiredMessage="Obligatorio" onkeyup="value=value.toUpperCase()" /></td>
						<td width="5%" align="center"></td>
						<td width="15%" align="center"></td>
						<td width="2%" align="center"></td>
					</tr>
					<tr>
						<td width="18%" align="right"><rich:message for="nomEmpl" style="color: red;">
								<f:facet name="errorMarker">
									<h:graphicImage url="../imagenes/error.png" />
								</f:facet>
							</rich:message> <h:outputText value="Nombres" /></td>
						<td style="width: 20%; text-align: left;"><h:inputText id="nomEmpl" onkeyup="value=value.toUpperCase()"
								value="#{ventaSoatController.ventaSoatEmpl.nomEmpl}" maxlength="50" class="celda" required="true" requiredMessage="Obligatorio" /></td>
						<td width="22%" align="right"><rich:message for="apePatempl" style="color: red;">
								<f:facet name="errorMarker">
									<h:graphicImage url="../imagenes/error.png" />
								</f:facet>
							</rich:message> <h:outputText value="Apellido paterno" /></td>
						<td style="width: 20%; text-align: left;"><h:inputText id="apePatempl" value="#{ventaSoatController.ventaSoatEmpl.apePatempl}"
								maxlength="50" class="celda" onkeyup="value=value.toUpperCase()" required="true" requiredMessage="Obligatorio" /></td>
						<td width="5%" align="center"></td>
						<td width="15%" align="center"></td>
						<td width="2%" align="center"></td>
					</tr>
					<tr>
						<td width="18%" align="right"><rich:message for="apeMatempl" style="color: red;">
								<f:facet name="errorMarker">
									<h:graphicImage url="../imagenes/error.png" />
								</f:facet>
							</rich:message> <h:outputText value="Apellido Materno" /></td>
						<td style="width: 20%; text-align: left;"><h:inputText id="apeMatempl" value="#{ventaSoatController.ventaSoatEmpl.apeMatempl}"
								maxlength="50" class="celda" onkeyup="value=value.toUpperCase()" required="true" requiredMessage="Obligatorio" /></td>
						<td width="5%" align="right"><rich:message for="razonSocial" style="color: red;">
								<f:facet name="errorMarker">
									<h:graphicImage url="../imagenes/error.png" />
								</f:facet>
							</rich:message> <rich:spacer width="5"></rich:spacer> <h:outputText value="Razón Social" /></td>
						<td width="5%" align="left"><h:selectOneMenu id="razonSocial" value="#{ventaSoatController.ventaSoatEmpl.codRazonSocial}"
								style=" width : 173px;" requiredMessage="Obligatorio" required="true">
								<f:selectItems value="#{ventaSoatController.listaRazonSocialItem}" />
								<a4j:support event="onchange" ajaxOnly="true" />
							</h:selectOneMenu></td>

					</tr>
				</table>

			</fieldset>

			<a4j:commandButton id="button" action="#{ventaSoatController.guardarVenta}" value="Confirmar Venta"
				oncomplete="#{facesContext.maximumSeverity == null ? 'window.open(\'rrhh/genSolicitudSoat.jsf\',\'blankPopUp\',\'status=no,toolbar=no,location=no,menubar=no,resizable,width=200,height=150,scrollbars,left=100,top=100\');' : ';'}"
				style="width:100px;height: 22px;">
			</a4j:commandButton>
			<h:commandButton action="#{ventaSoatController.limpiar}" immediate="true" value="Limpiar" style="width:100px;height: 22px;" />
		</rich:panel>
	</h:form>
</body>
</html>
